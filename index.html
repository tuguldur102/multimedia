<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>PyScript sanity check</title>

  <!-- 1. GRAPHVIZ runtime (must load *before* PyScript).  No "defer". -->
  <script src="https://unpkg.com/viz.js@2.1.2/viz.js"></script>
  <script src="https://unpkg.com/viz.js@2.1.2/full.render.js"></script>

  <!-- 2. PYSCRIPT runtime -->
  <link  rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
  <script src="https://pyscript.net/latest/pyscript.js"></script>

  <!-- 3. Tell PyScript which wheels to fetch -->
  <py-config>
    packages = ["networkx", "pydot"]
  </py-config>

  <style>body{font-family:sans-serif;padding:1rem}</style>
</head>

<body>
  <h1>PyScript test page</h1>

  <textarea id="txt" rows="2">abc</textarea>
  <button id="run">Run</button>

  <h2>Console output</h2>
  <pre id="out"></pre>

  <!-- 4. Load your Python helpers -->
  <py-script src="codec.py"></py-script>

  <!-- 5. Tiny Python snippet just to prove things work -->
  <py-script>
from js import document, console
print("âœ… PyScript is alive!")      # should show in browser dev-tools *and* below

def on_click(evt):
    txt = document.querySelector("#txt").value
    document.querySelector("#out").textContent = f"You typed: {txt}"

document.querySelector("#run").addEventListener("click", on_click)
  </py-script>
</body>
</html>
